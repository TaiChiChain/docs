---
title: "Gas与费用"
---

为防止DDoS攻击，所有改变账本状态（非只读）的交易执行都需要消耗一些gas。gas的计算与以太坊的计算方式类似。

## 基本概念

Gas是一个区块链中常见的模式。gas设置的初衷是防止用户对区块链系统的DDoS攻击。Gas模型有点类似云计算平台，但是云计算平台的使用是以时间为单位进行付费，而区块链系统则是以消耗的计算资源为单位进行计费。

$$\text{Gas Fee}=\text{Gas Used} \times \text{Gas Price}$$

这里，`Gas Fee`是一个用户需要为一笔交易支付的总费用，`Gas`是执行用户交易时消耗的计算资源，`Gas Price`是每个计算资源单位的价格。

## Gas限制

一些智能合约因为编写不当，可能会存在死循环。为了防止此类死循环消耗过多的gas，用户可以手动设置一笔交易执行的gas上限，否则`AxiomLedger`将会自动设置gas上限为100000000。

<Note> 重要提示：用户如果手动设置gas上线超过$10^8$，那么这个设置会被忽略，gas上线仍然以$10^8$记。</Note>

## 自动调节的gas费机制

在我们的系统中，gas不仅是一个防止DDoS攻击的手段，同时也可以动态的调节网络情况。我们把这种调节机制称为动态gas价格模型。

动态gas价格模型的算法如下：

![dynamic_gas_price](../../images/dynamic_gas_price.png)

## gas费边界

为了保证gas价格在一个合理的区间内浮动，我们会设置gas价格的上下界。在测试网中，上界为10000 `GMol`，而下界为1000 `GMol`。

在初始状态中，gas价格被设置为5000 `GMol`。
