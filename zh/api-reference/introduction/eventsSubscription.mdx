---
title: "事件和订阅"
---


允许客户端等待事件，而不是轮询事件。

它通过订阅特定事件来工作。节点将返回一个订阅id。对于与订阅匹配的每个事件，都会将带有相关数据的通知与订阅id一起发送。

## 订阅方法
订阅方法仅适用于WebSocket连接，允许您等待事件，而不是轮询事件。例如，dapp可以订阅日志，并在特定事件发生时接收通知。

以下订阅方法可用：

1. eth_subscribe - 创建对特定事件的订阅
2. eth_unsubscribe - 取消活跃的订阅


## 什么是Websocket？
WebSocket是一种通信协议，通过客户端和服务器之间的单个长期连接提供全双工通信通道。与传统的HTTP请求-响应模型不同，WebSocket实现了实时、双向的数据交换，允许客户端和服务器随时发送和接收数据，而无需重复建立新连接的开销。

## 使用JSON-RPC请求访问WebSocket
eth_subscribe和eth_unsubscribe的JSON-RPC方法允许您访问WebSocket。

安装一个用于发出WebSocket请求的命令行工具，或者从项目文件而不是命令行发出请求。使用wscat，您可以按如下方式发送请求：
```bash Example Request

// 创建订阅
{"id": 1, "method": "eth_subscribe", "params": ["newHeads"]}
{
    "jsonrpc": "2.0",
    "id": 1,
    "result": "0x969993ad38ffa8c6039a574965fb53d0"
}

// 取消订阅
{"id": 1, "method": "eth_unsubscribe", "params": ["0x969993ad38ffa8c6039a574965fb53d0"]}
{"jsonrpc":"2.0","id":1,"result":true}

```

## 兼容性
Axiomesh目前支持newHeads、logs和newPendingTransactions等订阅方法，使其与以太坊订阅机制兼容。但是，它不支持syncing订阅。如果您需要有关节点同步状态的信息，您可以直接通过HTTP端点eth_syncing查询这些信息



