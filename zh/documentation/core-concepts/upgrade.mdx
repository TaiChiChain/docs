---
title: "升级"
---

区块链在运行过程中难免会因为各种原因需要进行升级，例如缺陷修复、功能更新、参数调整等等。

为了避免链在升级过程中出现分叉，保证不同节点版本的一致性，通过治理的方式先发起升级的提案，由治理委员会进行投票，投票满足条件（目前是通过的票数超过一半）后，则升级提案被接受，会在指定的区块高度后进行版本升级，保证区块链节点的版本一致性。

## 升级流程

链升级流程如下图所示，主要步骤如下：

1. 治理委员会成员提交一个升级提案，提案包括提案类型，提案名称，提案描述，提案生效的区块高度，升级链节点的下载地址和校验哈希等信息；

2. 治理委员会其他成员对该升级提案进行投票，只能投票通过或者拒绝；

3. 当升级提案的通过的投票数量满足一定条件（目前是通过票数超过一半），则升级提案通过；

4. 守护服务监听到升级提案通过的事件后触发升级过程，下载新版本的节点程序包，并在新的区块高度达到生效的区块高度后进行节点升级，关闭旧版本节点并启动新版本节点。

![upgrade](/zh/images/upgrade.png)

