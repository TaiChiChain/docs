---
title: "了解节点"
---

### 节点类型

在AxiomLedger网络中，对区块链节点设置了不同的角色：
**从共识角度来看，节点共有三种类型：**
- **验证节点**：参与共识的节点，可针对出块节点提出的打包提案进行校验与投票；
- **出块节点**：具有验证节点的所有功能，并负责当前任期内的区块打包；
- **候选节点**：加入网络的节点，不参与共识，只同步区块，在纪元变更时，有概率从候选节点角色变更为出块节点角色。

**从账本存储角度来看，节点共有两种类型：**
- **数据节点**：不参与共识，只同步区块，拥有全量的状态数据，通常用作数据查询，类似以太坊的归档节点；
- **全节点**：可参与共识，同步区块，拥有最近时间段的状态数据，状态数据经过剪枝后的节点，类似以太坊的全节点。

随着共识网络节点数量的增加，共识性能受到O($n^2$)通信复杂度的限制，从而导致性能下降。不同的节点角色使得共识节点规模较为固定，不会随着节点数量规模增大而增加，有助于提高共识的效率和可扩展性。

### 节点角色转换

在AxiomLedger区块链网络中，节点角色转换将于纪元变更时正式生效，各节点角色转换如下：

    - **新节点→候选节点**：新节点需提出加入提案，提案获得治理通过后，新节点可正式加入网络，并成为候选节点。
    - **候选节点↔验证节点**：个纪元变更时，纪元管理合约使用WRF算法从候选节点中选择指定数量的验证节点集合。当纪元变更条件满足时（通常是每隔一定检查点数量），已加入AxiomLedger网络的所有节点将更新验证节点集合。WRF算法具体实现细节请参考下节内容。
    - **验证节点↔出块节点**：在纪元管理合约更新完毕后，验证节点通过WRF算法确定出块节点，该出块节点负责当前任期（任期间隔等于检查点间隔）的区块打包。
    - **候选节点/验证节点↔已退出节点**： 节点退出提案通过后，节点可正常退出网络。

<img src="/zh/images/nodes/node-state-machine.png" width="700" />

### 节点惩罚机制

验证节点的性能瓶颈将直接影响整个区块链网络的运行效能。为鼓励更为诚实、并拥有更强机器性能的节点成为出块节点/验证节点，AxiomLedger采取相应措施：
- 对于网络性能较差或者存在拜占庭错误的节点，系统将减少其在下一个区块被选为出块节点的权重，降低其被选中的概率；
- 在一定数量的区块产生后，节点的权重将会恢复正常。

AxiomLedger在安全性和活跃性两个方面检测节点是否为拜占庭节点：
- 安全性：验证节点对当前出块节点提出的区块提案进行验证未通过；
- 活跃性：非出块节点的验证节点发现当前存在可打包的交易，但出块节点未执行区块打包。


在部署安装节点上面，它们没有任何区别。本章主要介绍如何单独部署一套开发环境网络以及如何部署节点参与到主网或测试网中，此外，简单介绍一下节点数据同步机制。
